NRDocumentMetadata:
  $id: DocumentMetadata
  use: ['nr-common-metadata#CommonMetadata']

  marshmallow:
    class: nr_metadata.documents.services.records.schema.NRDocumentMetadataSchema
    generate: false
    imports:
      - import: nr_metadata.documents.services.records.schema.NRDocumentMetadataSchema
  ui:
    marshmallow:
      class: nr_metadata.documents.services.records.ui_schema.NRDocumentMetadataUISchema
      generate: false
      imports:
        - import: nr_metadata.documents.services.records.ui_schema.NRDocumentMetadataUISchema

  properties:
    thesis:
      ui:
        detail: thesis
        marshmallow:
          class: nr_metadata.documents.services.records.ui_schema.NRThesisUISchema
          imports:
            - import: nr_metadata.documents.services.records.ui_schema.NRThesisUISchema
      marshmallow:
        class: nr_metadata.documents.services.records.schema.NRThesisSchema
        imports:
          - import: nr_metadata.documents.services.records.schema.NRThesisSchema
      properties:
        dateDefended:
          type: date
          label.cs: Datum obhajoby
          label.en: Date defended
          # TODO: pokud neni dateIssued, dateDefenced by se v harvestu melo dostat do dateIssued
          search: false
        defended:
          type: boolean
          label.cs: ObhÃ¡jeno?
          label.en: Defended?
          search: false
        degreeGrantors[]:
          ui:
            detail: nr_degree_grantor
            marshmallow:
              class: nr_metadata.documents.services.records.ui_schema.NRDegreeGrantorUISchema
              imports:
                - import: nr_metadata.documents.services.records.ui_schema.NRDegreeGrantorUISchema
          marshmallow:
            class: nr_metadata.documents.services.records.schema.NRDegreeGrantorSchema
            imports:
              - import: nr_metadata.documents.services.records.schema.NRDegreeGrantorSchema
          type: taxonomy
          vocabulary-type: institutions
          ^label.cs: Instituce / grantor
          ^label.en: Degree grantor
          # TODO: podivat se, jestli copy_to v opensearch umi kopirovat objekt, nejenom string
          # pokud ano, dat sem copy_to: institutions a mit institutions jako synteticke pole,
          # ktere agreguje creator->affiliation, contributor->affiliation a degreeGrantors
          # pokud ne, zvazit, jestli nemuzeme udelat search dumper, ktery by tohle spojil dohromady
          # faceta nebude nad degreeGrantors, ale bude nad tim syntetickym polem
        studyFields[]:
          type: keyword
          ^label.cs: Oblasti studia
          ^label.en: Study fields
          search: false
          # TODO: podivat se, jestli tohle pujde kopirovat do klicovych slov, ktere nejsou stringy
    collection:
      type: keyword
      label.cs: Kolekce
      label.en: Collection

DocumentModel:
  $id: DocumentModel
  marshmallow:
    class: nr_metadata.documents.services.records.schema.NRDocumentRecordSchema
    generate: false
    imports:
      - import: nr_metadata.documents.services.records.schema.NRDocumentRecordSchema
  ui:
    marshmallow:
      class: nr_metadata.documents.services.records.ui_schema.NRDocumentRecordUISchema
      generate: false
      imports:
        - import: nr_metadata.documents.services.records.ui_schema.NRDocumentRecordUISchema
  use: [invenio]

  properties:
    metadata:
      use: ['nr-documents#DocumentMetadata']


# TODO: poradi facet